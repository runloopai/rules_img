# To update these lines, execute
# `bazel run @rules_bazel_integration_test//tools:update_deleted_packages`
build --deleted_packages=e2e/cc,e2e/cc/base,e2e/cc/custom_standard_library,e2e/cc/patches,e2e/cc/platform,e2e/generic,e2e/generic/build_settings,e2e/generic/convert_oci,e2e/generic/custom_distroless_base_image,e2e/generic/existing_tar_files,e2e/generic/extend,e2e/generic/index_with_selected_base,e2e/generic/integrationtest/container_structure_test,e2e/generic/integrationtest/testcontainers,e2e/generic/load,e2e/generic/multi_deploy,e2e/generic/platform,e2e/go,e2e/go/architecturevariant,e2e/go/customization,e2e/go/image,e2e/go/multiarch,e2e/go/platform,e2e/js,e2e/js/app,e2e/js/platform,e2e/python,e2e/python/platform,e2e/python/requirements,e2e/workspace,img_tool,img_tool/cmd,img_tool/cmd/bes,img_tool/cmd/compress,img_tool/cmd/deploy,img_tool/cmd/deploymetadata,img_tool/cmd/dockersave,img_tool/cmd/downloadblob,img_tool/cmd/expandtemplate,img_tool/cmd/hash,img_tool/cmd/img,img_tool/cmd/index,img_tool/cmd/indexfromocilayout,img_tool/cmd/layer,img_tool/cmd/manifest,img_tool/cmd/manifestfromocilayout,img_tool/cmd/ocilayout,img_tool/cmd/registry,img_tool/cmd/validate,img_tool/cmd/validate/layer-presence,img_tool/pkg/api,img_tool/pkg/auth/credential,img_tool/pkg/auth/grpcheaderinterceptor,img_tool/pkg/auth/protohelper,img_tool/pkg/auth/registry,img_tool/pkg/cas,img_tool/pkg/compress,img_tool/pkg/compress/util,img_tool/pkg/containerd,img_tool/pkg/contentmanifest,img_tool/pkg/deployvfs,img_tool/pkg/digestfs,img_tool/pkg/docker,img_tool/pkg/fileopener,img_tool/pkg/load,img_tool/pkg/metadata,img_tool/pkg/persistentworker,img_tool/pkg/progress,img_tool/pkg/proto/bazel,img_tool/pkg/proto/bazel/src/main/java/com/google/devtools/build/lib/buildeventstream,img_tool/pkg/proto/bazel/src/main/java/com/google/devtools/build/lib/packages/metrics,img_tool/pkg/proto/bazel/src/main/protobuf,img_tool/pkg/proto/blobcache,img_tool/pkg/proto/build_event_service,img_tool/pkg/proto/remote-apis,img_tool/pkg/proto/remote-apis/build/bazel/remote/execution/v2,img_tool/pkg/proto/remote-apis/build/bazel/semver,img_tool/pkg/push,img_tool/pkg/serve/bes,img_tool/pkg/serve/bes/syncer,img_tool/pkg/serve/blobcache,img_tool/pkg/serve/registry,img_tool/pkg/serve/registry/reapi,img_tool/pkg/serve/registry/s3,img_tool/pkg/serve/registry/upstream,img_tool/pkg/tarcas,img_tool/pkg/tree,img_tool/pkg/tree/merkle,img_tool/pkg/tree/runfiles,img_tool/pkg/tree/treeartifact,img_tool/toolchain,img_tool/tools,pull_tool,pull_tool/cmd/downloadblob,pull_tool/cmd/downloadmanifest,pull_tool/cmd/internal/pull,pull_tool/cmd/pull_tool,pull_tool/cmd/syncocirefgraph,pull_tool/pkg/auth/registry,pull_tool/pkg/blobstore,pull_tool/pkg/transport/cachedblob,pull_tool/pkg/transport/integration_test,pull_tool/pull/private
query --deleted_packages=e2e/cc,e2e/cc/base,e2e/cc/custom_standard_library,e2e/cc/patches,e2e/cc/platform,e2e/generic,e2e/generic/build_settings,e2e/generic/convert_oci,e2e/generic/custom_distroless_base_image,e2e/generic/existing_tar_files,e2e/generic/extend,e2e/generic/index_with_selected_base,e2e/generic/integrationtest/container_structure_test,e2e/generic/integrationtest/testcontainers,e2e/generic/load,e2e/generic/multi_deploy,e2e/generic/platform,e2e/go,e2e/go/architecturevariant,e2e/go/customization,e2e/go/image,e2e/go/multiarch,e2e/go/platform,e2e/js,e2e/js/app,e2e/js/platform,e2e/python,e2e/python/platform,e2e/python/requirements,e2e/workspace,img_tool,img_tool/cmd,img_tool/cmd/bes,img_tool/cmd/compress,img_tool/cmd/deploy,img_tool/cmd/deploymetadata,img_tool/cmd/dockersave,img_tool/cmd/downloadblob,img_tool/cmd/expandtemplate,img_tool/cmd/hash,img_tool/cmd/img,img_tool/cmd/index,img_tool/cmd/indexfromocilayout,img_tool/cmd/layer,img_tool/cmd/manifest,img_tool/cmd/manifestfromocilayout,img_tool/cmd/ocilayout,img_tool/cmd/registry,img_tool/cmd/validate,img_tool/cmd/validate/layer-presence,img_tool/pkg/api,img_tool/pkg/auth/credential,img_tool/pkg/auth/grpcheaderinterceptor,img_tool/pkg/auth/protohelper,img_tool/pkg/auth/registry,img_tool/pkg/cas,img_tool/pkg/compress,img_tool/pkg/compress/util,img_tool/pkg/containerd,img_tool/pkg/contentmanifest,img_tool/pkg/deployvfs,img_tool/pkg/digestfs,img_tool/pkg/docker,img_tool/pkg/fileopener,img_tool/pkg/load,img_tool/pkg/metadata,img_tool/pkg/persistentworker,img_tool/pkg/progress,img_tool/pkg/proto/bazel,img_tool/pkg/proto/bazel/src/main/java/com/google/devtools/build/lib/buildeventstream,img_tool/pkg/proto/bazel/src/main/java/com/google/devtools/build/lib/packages/metrics,img_tool/pkg/proto/bazel/src/main/protobuf,img_tool/pkg/proto/blobcache,img_tool/pkg/proto/build_event_service,img_tool/pkg/proto/remote-apis,img_tool/pkg/proto/remote-apis/build/bazel/remote/execution/v2,img_tool/pkg/proto/remote-apis/build/bazel/semver,img_tool/pkg/push,img_tool/pkg/serve/bes,img_tool/pkg/serve/bes/syncer,img_tool/pkg/serve/blobcache,img_tool/pkg/serve/registry,img_tool/pkg/serve/registry/reapi,img_tool/pkg/serve/registry/s3,img_tool/pkg/serve/registry/upstream,img_tool/pkg/tarcas,img_tool/pkg/tree,img_tool/pkg/tree/merkle,img_tool/pkg/tree/runfiles,img_tool/pkg/tree/treeartifact,img_tool/toolchain,img_tool/tools,pull_tool,pull_tool/cmd/downloadblob,pull_tool/cmd/downloadmanifest,pull_tool/cmd/internal/pull,pull_tool/cmd/pull_tool,pull_tool/cmd/syncocirefgraph,pull_tool/pkg/auth/registry,pull_tool/pkg/blobstore,pull_tool/pkg/transport/cachedblob,pull_tool/pkg/transport/integration_test,pull_tool/pull/private

# Workaround for rules_cc and rules_python no longer being autoloaded by Bazel 9:
#  https://github.com/bazelbuild/bazel/pull/27593
#
# Remove rules_cc once https://github.com/uber/hermetic_cc_toolchain/pull/233 is merged
# and released.
#
# Remove rules_python once googleapis loads rules_python explicitly in their BUILD files:
#  https://github.com/googleapis/googleapis/blob/c9578f6385fe0fb9067c5dba8d7cdda39efac0ff/google/devtools/build/v1/BUILD.bazel#L168-L176
common --incompatible_autoload_externally=+@rules_cc,+@rules_python

common --override_module=rules_img_tool=%workspace%/img_tool
common --override_module=rules_img_pull_tool=%workspace%/pull_tool

import %workspace%/.bazelrc.common

# Generated by the CI
try-import %workspace%/local.bazelrc

try-import %workspace%/.bazelrc.user
